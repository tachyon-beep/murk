{"id":"murk-1hh","title":"WP-15c: Stress test #17 — Rejection oscillation stability","status":"closed","priority":2,"issue_type":"task","owner":"544926+tachyon-beep@users.noreply.github.com","created_at":"2026-02-14T19:40:27.799852657+11:00","created_by":"John Morrissey","updated_at":"2026-02-14T19:50:20.173907901+11:00","closed_at":"2026-02-14T19:50:20.173907901+11:00","close_reason":"Rejection oscillation stress test: 50 agents at 2x rate, 600 ticks, CV\u003c0.3 assertion"}
{"id":"murk-7o0","title":"WP-15g: Arena fragmentation profiling and NaN detection tests","status":"closed","priority":3,"issue_type":"task","owner":"544926+tachyon-beep@users.noreply.github.com","created_at":"2026-02-14T19:40:30.914310419+11:00","created_by":"John Morrissey","updated_at":"2026-02-14T19:50:20.290719394+11:00","closed_at":"2026-02-14T19:50:20.290719394+11:00","close_reason":"Arena fragmentation profiling (1 test) and NaN detection (7 tests)"}
{"id":"murk-9uh","title":"WP-15d: Additional micro-benchmarks","status":"closed","priority":3,"issue_type":"task","owner":"544926+tachyon-beep@users.noreply.github.com","created_at":"2026-02-14T19:40:28.235931631+11:00","created_by":"John Morrissey","updated_at":"2026-02-14T19:50:20.203527597+11:00","closed_at":"2026-02-14T19:50:20.203527597+11:00","close_reason":"12 micro-benchmarks across 4 files: arena_ops, space_ops, obs_ops, codec_ops"}
{"id":"murk-bf8","title":"WP-15f: Error reference and replay format docs","status":"closed","priority":3,"issue_type":"task","owner":"544926+tachyon-beep@users.noreply.github.com","created_at":"2026-02-14T19:40:29.860174606+11:00","created_by":"John Morrissey","updated_at":"2026-02-14T19:50:20.262676309+11:00","closed_at":"2026-02-14T19:50:20.262676309+11:00","close_reason":"error-reference.md (10 error enums) and replay-format.md (wire format spec)"}
{"id":"murk-d78","title":"WP-15e: CI pipeline enhancements","status":"closed","priority":3,"issue_type":"task","owner":"544926+tachyon-beep@users.noreply.github.com","created_at":"2026-02-14T19:40:28.979432943+11:00","created_by":"John Morrissey","updated_at":"2026-02-14T19:50:20.233509642+11:00","closed_at":"2026-02-14T19:50:20.233509642+11:00","close_reason":"3 CI workflows: bench.yml (nightly), stress.yml (weekly), docs.yml (per-PR)"}
{"id":"murk-fj8","title":"Write authoritative HLD consolidating DESIGN.md + both reviews","description":"Merge original DESIGN.md v2.5, DESIGN-REVIEW-CONSOLIDATED.md, and DOMAIN-REVIEW-CONSOLIDATED.md into a single authoritative High-Level Design document","status":"closed","priority":1,"issue_type":"task","owner":"544926+tachyon-beep@users.noreply.github.com","created_at":"2026-02-09T08:49:56.61320088+11:00","created_by":"John Morrissey","updated_at":"2026-02-09T09:01:06.371058771+11:00","closed_at":"2026-02-09T09:01:06.371058771+11:00","close_reason":"HLD v3.0 written at docs/HLD.md"}
{"id":"murk-h0w","title":"P2: ObsPlanCache ignores space identity allowing incorrect reuse","status":"closed","priority":2,"issue_type":"bug","owner":"544926+tachyon-beep@users.noreply.github.com","created_at":"2026-02-12T09:35:43.412608191+11:00","created_by":"John Morrissey","updated_at":"2026-02-12T09:35:52.760982509+11:00","closed_at":"2026-02-12T09:35:52.760982509+11:00","close_reason":"Fixed: cache key changed from WorldGenerationId to SpaceFingerprint (data_ptr + cell_count). Uses compile() instead of compile_bound(). 15 tests covering both fixes."}
{"id":"murk-k2p","title":"WP-15b: Stress test #16 — Mass plan invalidation recovery","status":"closed","priority":2,"issue_type":"task","owner":"544926+tachyon-beep@users.noreply.github.com","created_at":"2026-02-14T19:40:26.676865895+11:00","created_by":"John Morrissey","updated_at":"2026-02-14T19:50:20.146170289+11:00","closed_at":"2026-02-14T19:50:20.146170289+11:00","close_reason":"Mass invalidation stress test: 200 ObsPlans, reset-based generation change, 50% throughput recovery assertion"}
{"id":"murk-qf4","title":"WP-15a: Stress test #15 — Death spiral resistance","status":"closed","priority":2,"issue_type":"task","owner":"544926+tachyon-beep@users.noreply.github.com","created_at":"2026-02-14T19:40:25.837226018+11:00","created_by":"John Morrissey","updated_at":"2026-02-14T19:50:20.117435249+11:00","closed_at":"2026-02-14T19:50:20.117435249+11:00","close_reason":"Death spiral stress test implemented with RealtimeAsync at 60Hz, 32 observer threads, overrun rate convergence assertion"}
{"id":"murk-suv","title":"P1: ObsPlanCache invalidates on every tick due to WorldGenerationId churn","status":"closed","priority":1,"issue_type":"bug","owner":"544926+tachyon-beep@users.noreply.github.com","created_at":"2026-02-12T09:35:38.304167845+11:00","created_by":"John Morrissey","updated_at":"2026-02-12T09:35:52.759019594+11:00","closed_at":"2026-02-12T09:35:52.759019594+11:00","close_reason":"Fixed: cache key changed from WorldGenerationId to SpaceFingerprint (data_ptr + cell_count). Uses compile() instead of compile_bound(). 15 tests covering both fixes."}
{"id":"murk-ylw","title":"Murk v1.0 Beta (Feature Complete)","description":"All HLD v3.1 MUST requirements implemented and verified. Encompasses WP-0 through WP-15 across milestones M0-M5. See docs/IMPLEMENTATION-PLAN.md for full details.","status":"open","priority":1,"issue_type":"epic","owner":"544926+tachyon-beep@users.noreply.github.com","created_at":"2026-02-10T02:00:54.628761014+11:00","created_by":"John Morrissey","updated_at":"2026-02-10T02:00:54.628761014+11:00"}
{"id":"murk-ylw.1","title":"WP-0: Test Infrastructure and Workspace Skeleton","description":"Cargo workspace with all 9 crate stubs, CI pipeline, test framework, clippy configuration.\n\nComplexity: S | Hard deps: None (first WP) | Milestone: Pre-M0\n\nDeliverables:\n- Workspace Cargo.toml with all 9 crate stubs\n- #![forbid(unsafe_code)] (except murk-arena: #![deny(unsafe_code)]) and #![deny(missing_docs)]\n- CI pipeline (cargo check + cargo test + cargo clippy + cargo miri for murk-arena)\n- murk-test-utils with TestWorldBuilder scaffold, MockFieldReader/MockFieldWriter, MockSnapshot\n- proptest configured, Criterion harness configured\n- clippy.toml per-crate with disallowed_types (HashMap/HashSet ban in deterministic crates)\n- PR checklist template\n\nAcceptance: All crates compile. CI green. Lints enforced.","status":"closed","priority":1,"issue_type":"task","owner":"544926+tachyon-beep@users.noreply.github.com","created_at":"2026-02-10T02:01:51.834740474+11:00","created_by":"John Morrissey","updated_at":"2026-02-10T09:50:48.181827976+11:00","closed_at":"2026-02-10T09:50:48.181827976+11:00","close_reason":"All 38 files created. cargo check/test/clippy/fmt/miri all pass clean. 11 crate workspace with lint enforcement, CI pipeline, PR template, test framework config, and murk-test-utils scaffolds.","labels":["infrastructure","wp"],"dependencies":[{"issue_id":"murk-ylw.1","depends_on_id":"murk-ylw","type":"parent-child","created_at":"2026-02-10T02:01:51.83551813+11:00","created_by":"John Morrissey"}]}
{"id":"murk-ylw.10","title":"WP-9: Python Bindings","description":"PyO3 wrapping C ABI with GIL release, NumPy integration, Gymnasium interface.\n\nComplexity: M | Hard deps: WP-8 | Milestone: M1\nHLD refs: R-FFI-2, R-FFI-5, §18\nDesign refs: IMPLEMENTATION-PLAN.md §6.10 (Gymnasium spaces derivation: observation_space from ObsPlan, action_space user-provided)\n\nDeliverables:\n- murk-python crate (PyO3): MurkEnv(gymnasium.Env) with step/reset/observation_space/action_space\n- MurkEnv constructor: MurkEnv(config, obs_spec, n_actions, action_space=None) (§6.10)\n- observation_space: derived from compiled ObsPlan output shape (gym.spaces.Box)\n- action_space: user-provided (NOT derived from world config — actions are domain-specific)\n- MurkVecEnv(gymnasium.vector.VectorEnv) with auto-reset\n- GIL released via py.allow_threads() on all C ABI calls\n- NumPy buffer integration (caller-allocated, zero-copy)\n- Context manager for handle lifecycle\n- env.last_step_metrics property (§6.11)\n\nAcceptance: GIL release verified. Gymnasium compliance. NumPy buffer correct. PPO smoke test (100K steps, single agent, 10×10 Square4, reward = negative Manhattan distance).","status":"closed","priority":1,"issue_type":"task","owner":"544926+tachyon-beep@users.noreply.github.com","created_at":"2026-02-10T02:02:47.2322539+11:00","created_by":"John Morrissey","updated_at":"2026-02-13T21:41:05.753688402+11:00","closed_at":"2026-02-13T21:41:05.753688402+11:00","close_reason":"WP-9 Python bindings completed and signed off - PyO3 + Gymnasium adapter + PPO smoke test","labels":["python","wp"],"dependencies":[{"issue_id":"murk-ylw.10","depends_on_id":"murk-ylw","type":"parent-child","created_at":"2026-02-10T02:02:47.233148695+11:00","created_by":"John Morrissey"},{"issue_id":"murk-ylw.10","depends_on_id":"murk-ylw.9","type":"blocks","created_at":"2026-02-10T05:41:18.728770163+11:00","created_by":"John Morrissey"}]}
{"id":"murk-ylw.11","title":"WP-10: Hex2D and ProductSpace","description":"Hex2D lattice backend + ProductSpace composition with dual distance API.\n\nComplexity: XL | Hard deps: WP-3 (Space trait) | Soft deps: WP-7 (ObsPlan for testing) | Milestone: M3\nHLD refs: R-SPACE-4 through R-SPACE-12, §11.1, §12\nDesign refs: IMPLEMENTATION-PLAN.md §6.6 (RegionSpec/RegionPlan)\n\nSub-packages:\n- WP-10a (murk-ylw.11.1): Hex2D (M) — axial coords, 6 neighbours, cube-distance, hex tensor export\n- WP-10b (murk-ylw.11.2): ProductSpace (L) — Vec\u003cBox\u003cdyn Space\u003e\u003e, per-component neighbours, L1 geodesic distance, lexicographic iteration, Cartesian product regions. Depends on WP-10a.\n\nAcceptance: Hex2D distance matches BFS. ProductSpace worked examples from HLD §11.1. valid_ratio ≥ 0.35 for all v1 compositions. Hex2D×Hex2D ≈ 0.56.","status":"closed","priority":1,"issue_type":"task","owner":"544926+tachyon-beep@users.noreply.github.com","created_at":"2026-02-10T05:37:13.146171655+11:00","created_by":"John Morrissey","updated_at":"2026-02-13T22:12:50.245971923+11:00","closed_at":"2026-02-13T22:12:50.245971923+11:00","close_reason":"WP-10 complete: Hex2D + ProductSpace backends + FFI + Python bindings, all 396 workspace tests pass","labels":["hex","space","wp"],"dependencies":[{"issue_id":"murk-ylw.11","depends_on_id":"murk-ylw","type":"parent-child","created_at":"2026-02-10T05:37:13.146834556+11:00","created_by":"John Morrissey"},{"issue_id":"murk-ylw.11","depends_on_id":"murk-ylw.4","type":"blocks","created_at":"2026-02-10T05:41:18.756644234+11:00","created_by":"John Morrissey"}]}
{"id":"murk-ylw.11.1","title":"WP-10a: Hex2D Backend","description":"Hex2D lattice backend with axial coordinates.\n\nComplexity: M | Milestone: M3\nHLD refs: R-SPACE-4, R-SPACE-6, R-SPACE-7\nDesign refs: IMPLEMENTATION-PLAN.md §6.6 (RegionSpec/RegionPlan)\n\nDeliverables:\n- Hex2D backend: axial coordinates (q, r), 6 neighbours\n- Cube-distance metric\n- Canonical ordering: r-then-q\n- compile_region() for hex regions: Disk produces hexagonal shape, Rect produces bounding box\n- Hex tensor export: bounding box + validity mask, branch-free gather with precomputed index tables\n- RegionPlan valid_ratio ≈ 0.75 for large hex disk radius\n\nAcceptance:\n- 6 neighbours in documented order\n- Distance matches BFS (cube distance = graph geodesic)\n- valid_ratio converges to ~0.75 for large R (hex disk in rectangular bounding box)\n- Pass Space trait compliance tests from WP-3a\n- v1 hex shapes: rectangles + disks only (Decision #22, wrap-around deferred to v1.5)","status":"closed","priority":1,"issue_type":"task","owner":"544926+tachyon-beep@users.noreply.github.com","created_at":"2026-02-10T06:20:35.148668435+11:00","created_by":"John Morrissey","updated_at":"2026-02-13T22:11:44.464754606+11:00","closed_at":"2026-02-13T22:11:44.464754606+11:00","close_reason":"Hex2D backend complete: axial coords, 6 neighbours, cube distance, hex disk regions, compliance tests pass","dependencies":[{"issue_id":"murk-ylw.11.1","depends_on_id":"murk-ylw.11","type":"parent-child","created_at":"2026-02-10T06:20:35.14953655+11:00","created_by":"John Morrissey"}]}
{"id":"murk-ylw.11.2","title":"WP-10b: ProductSpace Composition","description":"ProductSpace composition with dual distance API.\n\nComplexity: L | Milestone: M3 | Depends on: WP-10a (Hex2D)\nHLD refs: R-SPACE-8 through R-SPACE-12, §11.1, §12\nDesign refs: IMPLEMENTATION-PLAN.md §6.6 (RegionSpec/RegionPlan)\n\nDeliverables:\n- ProductSpace: stores components as Vec\u003cBox\u003cdyn Space\u003e\u003e (Decision M, vtable dispatch)\n- Per-component neighbours (R-SPACE-8)\n- L1 graph-geodesic distance (R-SPACE-9)\n- metric_distance() with configurable metrics\n- Lexicographic iteration (R-SPACE-10)\n- Region queries as Cartesian products (R-SPACE-11)\n- valid_ratio computation: product of per-component ratios\n- Worked examples from HLD §11.1 as acceptance tests\n\nAcceptance:\n- Hex2D×Line1D: distance, neighbours, iteration match HLD §11.1 worked examples\n- Property tests: distance metric axioms, neighbour symmetry, BFS = geodesic\n- valid_ratio ≥ 0.35 for all v1 compositions\n- Hex2D×Hex2D ≈ 0.56 (warns, doesn't fail)\n- Start with 2-component, add 3-component only after 2 is solid (Risk #5)","status":"closed","priority":1,"issue_type":"task","owner":"544926+tachyon-beep@users.noreply.github.com","created_at":"2026-02-10T06:20:35.979043824+11:00","created_by":"John Morrissey","updated_at":"2026-02-13T22:12:50.216536931+11:00","closed_at":"2026-02-13T22:12:50.216536931+11:00","close_reason":"ProductSpace complete: Cartesian product, L1/LInfinity/Weighted metrics, BFS disk, all HLD worked examples verified","dependencies":[{"issue_id":"murk-ylw.11.2","depends_on_id":"murk-ylw.11","type":"parent-child","created_at":"2026-02-10T06:20:35.979724509+11:00","created_by":"John Morrissey"},{"issue_id":"murk-ylw.11.2","depends_on_id":"murk-ylw.11.1","type":"blocks","created_at":"2026-02-10T06:20:40.760095325+11:00","created_by":"John Morrissey"}]}
{"id":"murk-ylw.12","title":"WP-11: Foveation and Standard ObsPlan","description":"Agent-centred observation windows, pooling, Standard plan class, FlatBuffers ObsSpec.\n\nComplexity: L | Hard deps: WP-7, WP-10 | Milestone: M3\nHLD refs: §16.1, §16.3\nDesign refs: IMPLEMENTATION-PLAN.md §6.9 (execute_batch signature), docs/design/obsspec.fbs (FlatBuffers schema sketch)\n\nDeliverables:\n- Agent-relative regions with interior/boundary dispatch (O(1) check, ~90% interior for radius \u003c grid/4)\n- Pooling operations\n- Standard plan class\n- ObsPlan caching with rate-limited recompilation\n- FlatBuffers ObsSpec serialization (docs/design/obsspec.fbs): ObsEntry/ObsSpec tables, TransformType/RegionType/DType enums, file identifier MOBS\n- execute_batch() interface (§6.9): single traversal fills N agent buffers. v1: N sequential calls internally. v1.5: single traversal.\n\nAcceptance: Interior/boundary dispatch functional equivalence. Hex foveation correct. FlatBuffers round-trip. execute_batch with N agents produces correct per-agent observations.","status":"closed","priority":2,"issue_type":"task","owner":"544926+tachyon-beep@users.noreply.github.com","created_at":"2026-02-10T05:37:17.448303459+11:00","created_by":"John Morrissey","updated_at":"2026-02-14T00:21:00.149264256+11:00","closed_at":"2026-02-14T00:21:00.149264256+11:00","close_reason":"WP-11 complete: Standard plan class with agent-centered foveation, pooling, interior/boundary dispatch, FlatBuffers serialization, FFI+Python bindings. 82 murk-obs tests + 51 murk-ffi tests pass.","labels":["obs","wp"],"dependencies":[{"issue_id":"murk-ylw.12","depends_on_id":"murk-ylw","type":"parent-child","created_at":"2026-02-10T05:37:17.449098628+11:00","created_by":"John Morrissey"},{"issue_id":"murk-ylw.12","depends_on_id":"murk-ylw.8","type":"blocks","created_at":"2026-02-10T05:41:18.784088582+11:00","created_by":"John Morrissey"},{"issue_id":"murk-ylw.12","depends_on_id":"murk-ylw.11","type":"blocks","created_at":"2026-02-10T05:41:18.812047392+11:00","created_by":"John Morrissey"}]}
{"id":"murk-ylw.13","title":"WP-12: RealtimeAsync Mode","description":"RealtimeAsyncWorld with TickEngine thread, egress pool, epoch reclamation.\n\nComplexity: XL | Hard deps: WP-5, WP-7 | Milestone: M4 | Risk: HIGH\nHLD refs: R-MODE-1, §7.2, §8.2, §8.3, P-1, P-3\nDesign refs: docs/design/epoch-reclamation.md (COMPLETE DESIGN: epoch mechanism, shutdown state machine, adaptive backoff, thread pool, memory bound proof, testing strategy)\n\nDeliverables:\n- RealtimeAsyncWorld: TickEngine on dedicated thread\n- Custom lightweight epoch mechanism (~200 lines, not crossbeam-epoch) — see epoch-reclamation.md §1-5\n- Snapshot ring buffer (default K=8, configurable; count + byte-budget eviction)\n- Egress thread pool: fixed-size (num_cpus/2, min 2, max 16), WorkerEpoch with pin/unpin/cancel — see §3, §7\n- Stalled worker detection + teardown: last_quiesce timestamp, max_epoch_hold=100ms, cancel_grace=10ms — see §6\n- Cancellation checked between region iterations (not per-cell) — see §6\n- Memory bound: live_generations ≤ K + S (proved in §8)\n- 60Hz wall-clock deadline, fallback snapshot selection\n- ttl_ms → expires_after_tick conversion, adaptive max_tick_skew (§10)\n- Backpressure policy (R-MODE-2)\n- Graceful shutdown: 4-state machine Running→Draining(≤33ms)→Quiescing(≤200ms)→Dropped(≤10ms) — see §9\n- tick_disabled integration (Decision J) — see §9\n- RealtimeMetrics telemetry (§6.11): tick_duration_us, queue_depth, snapshot_age_ticks, rejection_count, current_max_skew\n\nAcceptance: 60Hz sustained under reference profile. P-1 (stalled workers → ObsError::ExecutionFailed with WORKER_STALLED). Stress tests §23 #15-17 (§6.13). Memory bounded.","status":"closed","priority":2,"issue_type":"task","owner":"544926+tachyon-beep@users.noreply.github.com","created_at":"2026-02-10T05:37:22.973392831+11:00","created_by":"John Morrissey","updated_at":"2026-02-14T07:33:51.53369587+11:00","closed_at":"2026-02-14T07:33:51.53369587+11:00","close_reason":"RealtimeAsync mode fully implemented: tick_thread.rs (tick loop, adaptive backoff, stall detection), egress.rs (worker pool with epoch pin/unpin), realtime.rs (RealtimeAsyncWorld API, shutdown state machine), config.rs (AsyncConfig). 97 tests passing (3x). crossbeam-channel added. Zero unsafe, zero warnings.","labels":["engine","realtime","wp"],"dependencies":[{"issue_id":"murk-ylw.13","depends_on_id":"murk-ylw","type":"parent-child","created_at":"2026-02-10T05:37:22.974083283+11:00","created_by":"John Morrissey"},{"issue_id":"murk-ylw.13","depends_on_id":"murk-ylw.6","type":"blocks","created_at":"2026-02-10T05:41:18.840413956+11:00","created_by":"John Morrissey"},{"issue_id":"murk-ylw.13","depends_on_id":"murk-ylw.8","type":"blocks","created_at":"2026-02-10T05:41:18.868616743+11:00","created_by":"John Morrissey"}]}
{"id":"murk-ylw.14","title":"WP-13: Replay System","description":"Replay log format, recording, playback, determinism CI framework.\n\nComplexity: M | Hard deps: WP-1, WP-5 | Soft deps: WP-6 (Lockstep target) | Milestone: M4\nHLD refs: R-DET-1 through R-DET-6, §14.3-14.4, §19.1\nDesign refs: IMPLEMENTATION-PLAN.md §6.12 (complete replay log format: binary header + frame stream, snapshot hash verification, per-field divergence reporting)\n\nDeliverables:\n- murk-replay crate: custom binary format (§6.12)\n- Header: magic b\"MURK\", format_version u32, build metadata (toolchain, ISA, flags), init descriptor (seed, config_hash, field_count, cell_count)\n- Per-tick frame: tick_id, command_count, serialized commands with ordering provenance, snapshot_hash (u64)\n- ReplayWriter, ReplayReader\n- Snapshot comparison: logical field values via SnapshotAccess::read_field() (not arena-level bytes)\n- CI replay-and-compare: per-tick bit-exact comparison with first-divergence reporting (tick ID, field ID, byte offset)\n- Determinism source catalogue (R-DET-6)\n\nAcceptance: All 8 determinism replay scenarios pass (5 MUST + 3 SHOULD). 1000+ tick minimum. First-divergence reporting complete.","status":"closed","priority":2,"issue_type":"task","owner":"544926+tachyon-beep@users.noreply.github.com","created_at":"2026-02-10T05:37:27.754382264+11:00","created_by":"John Morrissey","updated_at":"2026-02-14T18:41:54.089093728+11:00","closed_at":"2026-02-14T18:41:54.089093728+11:00","close_reason":"Replay system fully implemented: error.rs (7 error variants), types.rs (BuildMetadata, InitDescriptor, Frame, SerializedCommand, 7 payload type constants), codec.rs (LE binary encode/decode with proptest round-trips), hash.rs (FNV-1a snapshot_hash + config_hash), writer.rs (ReplayWriter\u003cW: Write\u003e), reader.rs (ReplayReader\u003cR: Read\u003e + FrameIter), compare.rs (compare_snapshot + replay_and_compare with DivergenceReport). 31 unit tests, 8 integration determinism scenarios (5 MUST + 3 SHOULD), all passing with 1000+ ticks. docs/determinism-catalogue.md written. Zero clippy warnings, zero doc warnings.","labels":["determinism","replay","wp"],"dependencies":[{"issue_id":"murk-ylw.14","depends_on_id":"murk-ylw","type":"parent-child","created_at":"2026-02-10T05:37:27.755123241+11:00","created_by":"John Morrissey"},{"issue_id":"murk-ylw.14","depends_on_id":"murk-ylw.2","type":"blocks","created_at":"2026-02-10T05:41:18.895882166+11:00","created_by":"John Morrissey"},{"issue_id":"murk-ylw.14","depends_on_id":"murk-ylw.6","type":"blocks","created_at":"2026-02-10T05:41:18.924578267+11:00","created_by":"John Morrissey"}]}
{"id":"murk-ylw.15","title":"WP-14: Reference Propagators and Examples","description":"3 polished reference propagators + reference profile scenario.\n\nComplexity: M | Hard deps: WP-4, WP-5, WP-6 | Soft deps: WP-7 (for end-to-end examples) | Milestone: M2-M5\nHLD refs: §15.3, R-PERF-3\n\nDeliverables:\n- Diffusion propagator (Full write, reads_previous — Jacobi style)\n- Agent movement propagator (Incremental, command-driven)\n- Reward propagator (Full, reads all prior outputs)\n- Reference profile: 10K cells (100×100 Square4), 5 fields, 3 propagators, 16 agents\n- Stress scenario: 100K cells\n- End-to-end Lockstep RL example\n\nAcceptance: Reference profile benchmarks within HLD targets. Diffusion produces correct steady-state. Movement respects topology boundaries.","status":"closed","priority":2,"issue_type":"task","owner":"544926+tachyon-beep@users.noreply.github.com","created_at":"2026-02-10T05:37:32.255856359+11:00","created_by":"John Morrissey","updated_at":"2026-02-14T18:17:20.219853485+11:00","closed_at":"2026-02-14T18:17:20.219853485+11:00","close_reason":"All deliverables verified: 3 reference propagators (diffusion, agent_movement, reward), reference+stress profiles, lockstep RL example, criterion benchmarks. 29/29 tests passing.","labels":["benchmark","propagator","wp"],"dependencies":[{"issue_id":"murk-ylw.15","depends_on_id":"murk-ylw","type":"parent-child","created_at":"2026-02-10T05:37:32.256611282+11:00","created_by":"John Morrissey"},{"issue_id":"murk-ylw.15","depends_on_id":"murk-ylw.5","type":"blocks","created_at":"2026-02-10T05:41:18.951975095+11:00","created_by":"John Morrissey"},{"issue_id":"murk-ylw.15","depends_on_id":"murk-ylw.6","type":"blocks","created_at":"2026-02-10T05:41:18.97915092+11:00","created_by":"John Morrissey"},{"issue_id":"murk-ylw.15","depends_on_id":"murk-ylw.7","type":"blocks","created_at":"2026-02-10T05:41:19.012551017+11:00","created_by":"John Morrissey"}]}
{"id":"murk-ylw.16","title":"WP-15: Integration Tests, Stress Tests, and CI","description":"Complete mandatory test set (§23), CI benchmarks, final quality gates.\n\nComplexity: L | Hard deps: WP-6, WP-7, WP-12, WP-13, WP-14 | Milestone: M5\nHLD refs: §23 (all 17 tests), R-PERF-3, §19.1\nDesign refs: IMPLEMENTATION-PLAN.md §6.13 (stress test parameters: #15 death spiral, #16 mass invalidation, #17 rejection oscillation, CI infrastructure)\n\nDeliverables:\n- All 17 §23 mandatory tests\n- Stress test #15: Reference profile, 2× obs load at tick 100, 600 ticks, convergence pass: overrun_rate(500-600) ≤ 1.5× overrun_rate(200-300)\n- Stress test #16: 200 ObsPlans, topology change, 50% throughput recovery within 500ms (30 ticks)\n- Stress test #17: 50 agents at 2× tick rate, 600 ticks, rejection CV \u003c 0.3 across 60-tick windows\n- CI: GitHub Actions for correctness, self-hosted runner for benchmarks (nightly), -5% warn / -10% block\n- Criterion (15 micro-benchmarks) + custom system harness\n- Graceful shutdown tests. NaN detection. Arena fragmentation profiling.\n- Error reference document, replay format specification\n\nAcceptance: All §23 tests pass. Benchmarks within budget. Determinism catalogue reviewed.","status":"closed","priority":2,"issue_type":"task","owner":"544926+tachyon-beep@users.noreply.github.com","created_at":"2026-02-10T05:37:36.862008456+11:00","created_by":"John Morrissey","updated_at":"2026-02-14T19:50:25.347224985+11:00","closed_at":"2026-02-14T19:50:25.347224985+11:00","close_reason":"WP-15 complete: 3 stress tests (death spiral, mass invalidation, rejection oscillation), 12 micro-benchmarks (15 total), 3 CI workflows (bench/stress/docs), 2 reference docs (error-reference, replay-format), arena fragmentation profiling, NaN detection (7 tests). 594 tests passing, 0 failures.","labels":["ci","testing","wp"],"dependencies":[{"issue_id":"murk-ylw.16","depends_on_id":"murk-ylw","type":"parent-child","created_at":"2026-02-10T05:37:36.862749764+11:00","created_by":"John Morrissey"},{"issue_id":"murk-ylw.16","depends_on_id":"murk-ylw.7","type":"blocks","created_at":"2026-02-10T05:41:19.041409231+11:00","created_by":"John Morrissey"},{"issue_id":"murk-ylw.16","depends_on_id":"murk-ylw.8","type":"blocks","created_at":"2026-02-10T05:41:19.069690395+11:00","created_by":"John Morrissey"},{"issue_id":"murk-ylw.16","depends_on_id":"murk-ylw.13","type":"blocks","created_at":"2026-02-10T05:41:19.098002567+11:00","created_by":"John Morrissey"},{"issue_id":"murk-ylw.16","depends_on_id":"murk-ylw.14","type":"blocks","created_at":"2026-02-10T05:41:19.12461136+11:00","created_by":"John Morrissey"},{"issue_id":"murk-ylw.16","depends_on_id":"murk-ylw.15","type":"blocks","created_at":"2026-02-10T05:41:19.150612877+11:00","created_by":"John Morrissey"}]}
{"id":"murk-ylw.2","title":"WP-1: Core Types and Error Model","description":"All shared types, IDs, error enums, field definitions, and FieldReader/FieldWriter traits.\n\nComplexity: S | Hard deps: WP-0 | Milestone: M0\nHLD refs: R-ARCH-1, R-ARCH-2, §2, §9, §13\nDesign refs: IMPLEMENTATION-PLAN.md §6.1 (full type definitions including CommandPayload enum, ParameterKey, Receipt)\n\nDeliverables:\n- murk-core crate with: FieldId, SpaceId, TickId, WorldGenerationId, ParameterVersion\n- CommandPayload enum: WorldEvent variants (Move, Spawn, Despawn, SetField, Custom) + GlobalParameter variants (SetParameter, SetParameterBatch) — see §6.1\n- ParameterKey newtype (u32) for global simulation parameters\n- Command struct with payload, expires_after_tick, source_id, source_seq, priority_class, arrival_seq\n- Receipt struct with accepted, applied_tick_id, reason_code, command_index\n- All error enums from §9.7 (including MURK_ERROR_SHUTTING_DOWN and MURK_ERROR_TICK_DISABLED)\n- FieldDef (scalar/vector/categorical, units, bounds, boundary behavior)\n- FieldMutability enum (Static/PerTick/Sparse), FieldSet\n- FieldReader trait, FieldWriter trait\n- SnapshotAccess trait (4 methods: read_field, tick_id, world_generation_id, parameter_version — Decision N)\n\nAcceptance: All types compile. Error code enum exhaustive per §9.7. Property test: FieldSet operations satisfy set algebra axioms. CommandPayload variants match §6.1 specification.","status":"closed","priority":1,"issue_type":"task","owner":"544926+tachyon-beep@users.noreply.github.com","created_at":"2026-02-10T02:01:57.00825533+11:00","created_by":"John Morrissey","updated_at":"2026-02-10T10:48:02.176196398+11:00","closed_at":"2026-02-10T10:48:02.176196398+11:00","close_reason":"All core types implemented. 14 proptest property tests pass for FieldSet set algebra. Error enums exhaustive per §9.7 (16 codes). Mock types in murk-test-utils implement real FieldReader/FieldWriter/SnapshotAccess traits.","labels":["core","wp"],"dependencies":[{"issue_id":"murk-ylw.2","depends_on_id":"murk-ylw","type":"parent-child","created_at":"2026-02-10T02:01:57.009031142+11:00","created_by":"John Morrissey"},{"issue_id":"murk-ylw.2","depends_on_id":"murk-ylw.1","type":"blocks","created_at":"2026-02-10T05:41:18.62070088+11:00","created_by":"John Morrissey"}]}
{"id":"murk-ylw.3","title":"WP-2: Arena Allocator","description":"Generational arena with segmented bump allocation, double-buffer ping-pong, sparse slab, static gen-0 arena.\n\nComplexity: L | Hard deps: WP-1 | Milestone: M0 | Risk: HIGH\nHLD refs: §5.1-5.6, R-FIELD-3\nDesign refs: IMPLEMENTATION-PLAN.md §6.5 (Arena Implementation Notes: handle validation, segment growth, sparse slab, static arena)\n\nDeliverables:\n- murk-arena crate: ReadArena (Send+Sync), WriteArena (\u0026mut)\n- FieldHandle with embedded generation:u32 for O(1) validity checking (§6.5)\n- Segmented arena: 64MB segments, grow-on-demand, max_segments=16 (1GB cap) (§6.5)\n- Double-buffer ping-pong for Lockstep (§5.6)\n- Sparse slab: free-list based, generation-tracked, epoch-gated reclamation (§6.5)\n- Static arena: Arc\u003cStaticArena\u003e wrapping Vec\u003cf32\u003e, shared across vectorized envs (§6.5)\n- ScratchRegion bump allocator\n- Implements FieldReader for ReadArena and FieldWriter for WriteArena\n\nPhase 1: Vec\u003cf32\u003e zero-init. Phase 2: MaybeUninit\u003cf32\u003e + FullWriteGuard after WP-4.\n\nAcceptance: Property tests (arbitrary field counts/sizes/generations round-trip). Handle from gen N invalid after gen N+2. Static fields share allocation (pointer equality). Memory bound: after N ticks, size ≤ 2× PerTick + 1× Static + Sparse slab. Miri clean. Unsafe ≤5 functions in raw.rs.","status":"closed","priority":1,"issue_type":"task","owner":"544926+tachyon-beep@users.noreply.github.com","created_at":"2026-02-10T02:02:02.557150111+11:00","created_by":"John Morrissey","updated_at":"2026-02-10T14:29:51.592761199+11:00","closed_at":"2026-02-10T14:29:51.592761199+11:00","close_reason":"Arena allocator implemented: 12 files, 60 tests, 0 warnings, 0 clippy issues, 0 unsafe","labels":["arena","wp"],"dependencies":[{"issue_id":"murk-ylw.3","depends_on_id":"murk-ylw","type":"parent-child","created_at":"2026-02-10T02:02:02.55785448+11:00","created_by":"John Morrissey"},{"issue_id":"murk-ylw.3","depends_on_id":"murk-ylw.2","type":"blocks","created_at":"2026-02-10T05:41:18.649758839+11:00","created_by":"John Morrissey"}]}
{"id":"murk-ylw.4","title":"WP-3: Space Trait and Backends","description":"Space abstraction + lattice backends: Line1D, Ring1D, Square4, Square8.\n\nComplexity: M | Hard deps: WP-1 | Milestone: M0\nHLD refs: R-SPACE-0 through R-SPACE-7\nDesign refs: IMPLEMENTATION-PLAN.md §6.6 (RegionSpec enum, RegionPlan struct, BoundingShape)\n\nSub-packages:\n- WP-3a (murk-ylw.4.1): Space trait + Line1D + Ring1D (S)\n- WP-3b (murk-ylw.4.2): Square4 + Square8 (S) — depends on WP-3a\n- WP-3c (murk-ylw.4.3): DEFERRED to v1.5 — no existing voxel/octree system\n\nDeliverables:\n- Space trait: Any + Send + 'static; ndim, cell_count, neighbours, distance, compile_region (§6.6), iter_region, map_coord_to_tensor_index, canonical_ordering\n- downcast_ref::\u003cT\u003e() on dyn Space (Decision M)\n- Coord (SmallVec\u003c[i32; 4]\u003e), RegionSpec, RegionPlan (§6.6)\n- 4 lattice backends with boundary handling (clamp, wrap, absorb)\n\nAcceptance: Distance is metric. Neighbours symmetric. Iteration deterministic. RegionPlan valid_ratio = 1.0 for All on rectangular grids.","status":"closed","priority":1,"issue_type":"task","owner":"544926+tachyon-beep@users.noreply.github.com","created_at":"2026-02-10T02:02:07.609276752+11:00","created_by":"John Morrissey","updated_at":"2026-02-11T01:54:25.615399006+11:00","closed_at":"2026-02-11T01:54:25.615399006+11:00","close_reason":"All sub-packages complete: WP-3a (Space trait + Line1D + Ring1D), WP-3b (Square4 + Square8), WP-3c (deferred). 4 backends, 79 tests, full compliance suite.","labels":["space","wp"],"dependencies":[{"issue_id":"murk-ylw.4","depends_on_id":"murk-ylw","type":"parent-child","created_at":"2026-02-10T02:02:07.610221801+11:00","created_by":"John Morrissey"},{"issue_id":"murk-ylw.4","depends_on_id":"murk-ylw.2","type":"blocks","created_at":"2026-02-10T05:41:18.679025698+11:00","created_by":"John Morrissey"}]}
{"id":"murk-ylw.4.1","title":"WP-3a: Space Trait + Line1D + Ring1D","description":"Space trait definition + Line1D + Ring1D lattice backends.\n\nComplexity: S | Milestone: M0\nHLD refs: R-SPACE-0 through R-SPACE-3\n\nDeliverables:\n- Space trait: Any + Send + 'static; ndim, cell_count, neighbours, distance, compile_region (§6.6), iter_region, map_coord_to_tensor_index, canonical_ordering\n- downcast_ref::\u003cT\u003e() on dyn Space for opt-in specialization (Decision M)\n- Coord type (SmallVec\u003c[i32; 4]\u003e)\n- RegionSpec enum + RegionPlan struct (§6.6)\n- Line1D backend: 1D line with clamp/wrap/absorb boundary handling\n- Ring1D backend: 1D ring (wrap-only)\n- Space trait compliance test suite (reusable for all backends)\n\nAcceptance:\n- Per-topology unit tests (neighbours, distance, iteration)\n- Property tests: distance is a metric (d(a,a)=0, symmetry, triangle inequality)\n- Neighbours symmetric (b in neighbours(a) iff a in neighbours(b))\n- Iteration deterministic (call twice → same sequence)\n- RegionPlan: valid_ratio = 1.0 for All on line/ring","status":"closed","priority":1,"issue_type":"task","owner":"544926+tachyon-beep@users.noreply.github.com","created_at":"2026-02-10T06:20:28.253409845+11:00","created_by":"John Morrissey","updated_at":"2026-02-10T22:19:28.923267412+11:00","closed_at":"2026-02-10T22:19:28.923267412+11:00","close_reason":"Space trait + Line1D + Ring1D implemented. 37 tests pass, clippy clean, docs clean, workspace check clean.","dependencies":[{"issue_id":"murk-ylw.4.1","depends_on_id":"murk-ylw.4","type":"parent-child","created_at":"2026-02-10T06:20:28.254072275+11:00","created_by":"John Morrissey"}]}
{"id":"murk-ylw.4.2","title":"WP-3b: Square4 + Square8","description":"Square4 + Square8 lattice backends.\n\nComplexity: S | Milestone: M0 | Depends on: WP-3a (Space trait)\nHLD refs: R-SPACE-4, R-SPACE-5\n\nDeliverables:\n- Square4 backend: 2D grid, 4-neighbourhood (N/S/E/W), boundary handling (clamp/wrap/absorb)\n- Square8 backend: 2D grid, 8-neighbourhood (+ diagonals)\n- Both implement Space trait from WP-3a\n- compile_region() produces RegionPlan (§6.6) with valid_ratio = 1.0 for rectangular grids\n- Canonical ordering: row-major\n\nAcceptance:\n- Pass Space trait compliance tests from WP-3a\n- Square4 10×10: 100 cells, corner has 2 neighbours (clamp), 4 neighbours (wrap)\n- Square8 diagonal distance: d((0,0), (1,1)) = 1 (Chebyshev)\n- RegionSpec::Disk on Square4 produces diamond shape\n- This is the primary M0 test topology (100×100 for reference profile)","status":"closed","priority":1,"issue_type":"task","owner":"544926+tachyon-beep@users.noreply.github.com","created_at":"2026-02-10T06:20:29.105057354+11:00","created_by":"John Morrissey","updated_at":"2026-02-11T01:54:07.415265796+11:00","closed_at":"2026-02-11T01:54:07.415265796+11:00","close_reason":"Square4 + Square8 implemented. 42 new tests (79 total in murk-space). Clippy clean, docs clean, workspace clean.","dependencies":[{"issue_id":"murk-ylw.4.2","depends_on_id":"murk-ylw.4","type":"parent-child","created_at":"2026-02-10T06:20:29.105679308+11:00","created_by":"John Morrissey"},{"issue_id":"murk-ylw.4.2","depends_on_id":"murk-ylw.4.1","type":"blocks","created_at":"2026-02-10T06:20:40.674874417+11:00","created_by":"John Morrissey"}]}
{"id":"murk-ylw.4.3","title":"WP-3c: VoxelOctreeSpace (DEFERRED to v1.5)","status":"closed","priority":4,"issue_type":"task","owner":"544926+tachyon-beep@users.noreply.github.com","created_at":"2026-02-10T06:20:30.632621695+11:00","created_by":"John Morrissey","updated_at":"2026-02-10T06:20:46.231043468+11:00","closed_at":"2026-02-10T06:20:46.231043468+11:00","close_reason":"Deferred to v1.5. No existing voxel/octree system to wrap. Lattice backends cover all v1 use cases. Space trait abstraction validated by WP-3a compliance tests.","dependencies":[{"issue_id":"murk-ylw.4.3","depends_on_id":"murk-ylw.4","type":"parent-child","created_at":"2026-02-10T06:20:30.63341984+11:00","created_by":"John Morrissey"}]}
{"id":"murk-ylw.5","title":"WP-4: Propagator Pipeline","description":"Propagator trait, StepContext with split-borrow semantics, pipeline validation, execution.\n\nComplexity: L | Hard deps: WP-1, WP-3 (Space trait) | Soft deps: WP-2 (use mocks initially) | Milestone: M0\nHLD refs: R-PROP-1 through R-PROP-5, §15.2, §15.3\n\nDeliverables:\n- murk-propagator crate: Propagator trait (\u0026self, Send + 'static)\n- StepContext\u003cR: FieldReader, W: FieldWriter\u003e with reads (overlay) and reads_previous (frozen)\n- WriteMode enum (Full/Incremental)\n- Pipeline validation (write-write conflicts, DAG, dt, Incremental budget, field refs)\n- PropagatorError\n- 3 validation fixtures in murk-test-utils: IdentityPropagator, ConstPropagator, FailingPropagator\n- FullWriteGuard: debug BitVec tracking, release bare \u0026mut [MaybeUninit\u003cf32\u003e]\n- Note: StepContext uses generics (diverges from HLD §15 intentionally — enables mock testing)\n\nAcceptance: Pipeline rejects write-write conflicts, unresolvable field IDs, dt \u003e min(max_dt). StepContext mock tests verify split-borrow semantics. FullWriteGuard catches incomplete Full writes.","status":"closed","priority":1,"issue_type":"task","owner":"544926+tachyon-beep@users.noreply.github.com","created_at":"2026-02-10T02:02:13.55099278+11:00","created_by":"John Morrissey","updated_at":"2026-02-11T04:10:06.266037697+11:00","closed_at":"2026-02-11T04:10:06.266037697+11:00","close_reason":"Propagator pipeline implemented: Propagator trait (object-safe, \u0026self, Send+'static), StepContext with split-borrow dyn dispatch, ScratchRegion bump allocator, FullWriteGuard with debug coverage tracking, ReadResolutionPlan (precomputed overlay routing), pipeline validation (write conflicts, field refs, dt constraints). 3 test fixtures in murk-test-utils (Identity, Const, Failing). 26 tests, 0 warnings, 0 clippy issues, 0 unsafe.","labels":["propagator","wp"],"dependencies":[{"issue_id":"murk-ylw.5","depends_on_id":"murk-ylw","type":"parent-child","created_at":"2026-02-10T02:02:13.551668435+11:00","created_by":"John Morrissey"},{"issue_id":"murk-ylw.5","depends_on_id":"murk-ylw.2","type":"blocks","created_at":"2026-02-10T05:41:18.707646558+11:00","created_by":"John Morrissey"},{"issue_id":"murk-ylw.5","depends_on_id":"murk-ylw.4","type":"blocks","created_at":"2026-02-10T05:41:18.737043911+11:00","created_by":"John Morrissey"}]}
{"id":"murk-ylw.6","title":"WP-5: TickEngine Core","description":"Central tick execution: drain ingress → validate → run propagators → publish snapshot.\n\nComplexity: L | Hard deps: WP-2, WP-4 | Soft deps: WP-3 (Square4 for testing) | Milestone: M0\nHLD refs: R-ARCH-1, R-ARCH-3, §9.1\nDesign refs: IMPLEMENTATION-PLAN.md §6.1 (CommandPayload), §6.7 (ReadResolutionPlan), §6.8 (WorldConfig), §6.11 (StepMetrics)\n\nSub-packages:\n- WP-5a (murk-ylw.6.1): Command Processing (M) — ingress drain, ordering, TTL, receipts\n- WP-5b (murk-ylw.6.2): Tick Execution + Atomicity (L) — ReadResolutionPlan, overlay resolution, tick atomicity, tick_disabled. HIGHEST RISK ITEM.\n\nCritical: Overlay resolution via precomputed ReadResolutionPlan (§6.7) — zero runtime conditionals. Built at startup, routes each (propagator, field) to BaseGen or Staged{writer_index}.","notes":"WP-5a complete (infrastructure + command processing). WP-5b (tick execution + atomicity) remaining.","status":"closed","priority":1,"issue_type":"task","owner":"544926+tachyon-beep@users.noreply.github.com","created_at":"2026-02-10T02:02:28.409465221+11:00","created_by":"John Morrissey","updated_at":"2026-02-11T12:58:30.729880187+11:00","closed_at":"2026-02-11T12:58:30.729880187+11:00","close_reason":"Both sub-packages (WP-5a, WP-5b) complete. Tick engine with overlay resolution, atomicity, and rollback fully implemented and passing 51 tests.","labels":["engine","wp"],"dependencies":[{"issue_id":"murk-ylw.6","depends_on_id":"murk-ylw","type":"parent-child","created_at":"2026-02-10T02:02:28.41020168+11:00","created_by":"John Morrissey"},{"issue_id":"murk-ylw.6","depends_on_id":"murk-ylw.3","type":"blocks","created_at":"2026-02-10T05:41:18.764615808+11:00","created_by":"John Morrissey"},{"issue_id":"murk-ylw.6","depends_on_id":"murk-ylw.5","type":"blocks","created_at":"2026-02-10T05:41:18.791795189+11:00","created_by":"John Morrissey"}]}
{"id":"murk-ylw.6.1","title":"WP-5a: Command Processing","description":"Command processing subsystem: ingress drain, validation, ordering, receipt generation.\n\nComplexity: M | Milestone: M0\nHLD refs: R-CMD-1, R-CMD-2, R-ACT-1, R-ACT-2, §14.2\nDesign refs: IMPLEMENTATION-PLAN.md §6.1 (CommandPayload enum), §6.8 (WorldConfig)\n\nDeliverables:\n- Ingress bounded queue (max_ingress_queue from WorldConfig, default 1024)\n- Command drain with expires_after_tick (TTL) evaluation\n- Deterministic ordering: priority_class → source_id/source_seq → arrival_seq (stable sort)\n- arrival_seq monotonic counter\n- Receipt generation with accepted/applied_tick_id/reason_code/command_index\n- CommandPayload processing: WorldEvent variants (Move, Spawn, Despawn, SetField, Custom) + GlobalParameter variants (SetParameter, SetParameterBatch)\n- ParameterKey validation (reject unknown keys at ingress)\n\nAcceptance:\n- Command ordering unit tests (priority, source disambiguation, arrival_seq tiebreak)\n- TTL rejection test (expired → STALE receipt)\n- Property test: arbitrary command batches sorted deterministically\n- Receipt fields complete per §14.2\n- Queue overflow → QUEUE_FULL error\n- Independently testable without propagators or arena","status":"closed","priority":1,"issue_type":"task","owner":"544926+tachyon-beep@users.noreply.github.com","created_at":"2026-02-10T06:20:32.1978003+11:00","created_by":"John Morrissey","updated_at":"2026-02-11T05:27:59.694106987+11:00","closed_at":"2026-02-11T05:27:59.694106987+11:00","close_reason":"IngressQueue with bounded capacity, deterministic ordering, TTL evaluation, and receipt generation. 16 unit tests + 1 proptest, all passing.","dependencies":[{"issue_id":"murk-ylw.6.1","depends_on_id":"murk-ylw.6","type":"parent-child","created_at":"2026-02-10T06:20:32.198485583+11:00","created_by":"John Morrissey"}]}
{"id":"murk-ylw.6.2","title":"WP-5b: Tick Execution + Atomicity","description":"Tick execution engine with overlay resolution, atomicity, and snapshot publication.\n\nComplexity: L | Milestone: M0 | Depends on: WP-5a (Command Processing)\nHLD refs: R-ARCH-1, R-ARCH-3, §9.1\nDesign refs: IMPLEMENTATION-PLAN.md §6.7 (ReadResolutionPlan), §6.8 (WorldConfig)\n\nHIGHEST-RISK ITEM IN THE PROJECT. The ReadResolutionPlan (§6.7) is ~50-100 lines with the highest correctness criticality in the engine.\n\nDeliverables:\n- Precomputed ReadResolutionPlan built at startup (§6.7): maps (propagator_index, field_id) → ReadSource (BaseGen or Staged{writer_index})\n- Write-write conflict detection at plan construction time\n- Propagator execution in dependency order with overlay resolution\n- Tick atomicity: all-or-nothing via arena abandon on propagator failure\n- Commands dropped with TICK_ROLLBACK on failure (not re-enqueued)\n- Snapshot descriptor publication\n- Configurable NaN sentinel check on written fields (off by default, HLD §9.2)\n- consecutive_rollback_count tracking + tick_disabled mechanism (Decision J): AtomicBool after 3 consecutive rollbacks; ingress rejects with TICK_DISABLED; recovery via reset()\n- murk_consecutive_rollbacks() C ABI query function\n\nAcceptance:\n- Three-propagator overlay visibility test (5 cases per IMPLEMENTATION-PLAN.md §2 WP-5):\n  A writes X → B reads X via reads() sees A's value\n  B reads X via reads_previous() sees base gen\n  C reads X sees B's staged value if B wrote\n  etc.\n- ReadResolutionPlan unit test (precomputed routing correct)\n- Tick atomicity test (propagator failure → no snapshot, state unchanged)\n- Criterion: full tick cycle on reference profile","status":"closed","priority":1,"issue_type":"task","owner":"544926+tachyon-beep@users.noreply.github.com","created_at":"2026-02-10T06:20:32.426840939+11:00","created_by":"John Morrissey","updated_at":"2026-02-11T09:14:55.374031502+11:00","closed_at":"2026-02-11T09:14:55.374031502+11:00","close_reason":"TickEngine implemented with overlay resolution, tick atomicity, rollback tracking, and all 21 new tests passing. BaseFieldCache+StagedFieldCache+OverlayReader pattern resolves the borrow conflict. 49 total engine tests, 244 workspace tests, zero clippy warnings.","dependencies":[{"issue_id":"murk-ylw.6.2","depends_on_id":"murk-ylw.6","type":"parent-child","created_at":"2026-02-10T06:20:32.427649433+11:00","created_by":"John Morrissey"},{"issue_id":"murk-ylw.6.2","depends_on_id":"murk-ylw.6.1","type":"blocks","created_at":"2026-02-10T06:20:40.704120864+11:00","created_by":"John Morrissey"}]}
{"id":"murk-ylw.7","title":"WP-6: Lockstep Mode","description":"LockstepWorld callable struct with step_sync(), reset(), \u0026mut self lifecycle.\n\nComplexity: M | Hard deps: WP-5 | Milestone: M0\nHLD refs: R-MODE-1, §7.1, §5.6, §8.1\nDesign refs: IMPLEMENTATION-PLAN.md §6.8 (WorldConfig, LockstepWorld::new()), §6.11 (StepMetrics)\n\nDeliverables:\n- LockstepWorld: step_sync(\u0026mut self, commands) -\u003e StepResult\u003c\u0026Snapshot\u003e, reset(\u0026mut self, seed) -\u003e \u0026Snapshot\n- Double-buffer ping-pong arena recycling\n- Send not Sync. \u0026mut self prevents snapshot aliasing (compile-time)\n- Graceful shutdown via Drop (Decision E)\n- WorldConfig integration: validates config, pre-allocates arena, builds ReadResolutionPlan\n- Basic telemetry: StepMetrics (§6.11) returned alongside StepResult\n\nAcceptance: 1000-step determinism. Memory bound (RSS tick 1000 ≈ tick 10). Reset reclaims both buffers. \u0026mut self prevents aliasing (compile-time test).","status":"closed","priority":1,"issue_type":"task","owner":"544926+tachyon-beep@users.noreply.github.com","created_at":"2026-02-10T02:02:32.888360275+11:00","created_by":"John Morrissey","updated_at":"2026-02-11T14:17:15.580544558+11:00","closed_at":"2026-02-11T14:17:15.580544558+11:00","close_reason":"LockstepWorld implemented with step_sync(), reset(seed), snapshot(), Send+!Sync. 13 tests including 1000-step determinism and memory bound (M0 quality gates). 259 workspace tests pass.","labels":["engine","lockstep","wp"],"dependencies":[{"issue_id":"murk-ylw.7","depends_on_id":"murk-ylw","type":"parent-child","created_at":"2026-02-10T02:02:32.889122241+11:00","created_by":"John Morrissey"},{"issue_id":"murk-ylw.7","depends_on_id":"murk-ylw.6","type":"blocks","created_at":"2026-02-10T05:41:18.82016568+11:00","created_by":"John Morrissey"}]}
{"id":"murk-ylw.8","title":"WP-7: ObsSpec/ObsPlan (Simple Plan Class)","description":"Observation specification, compilation to executable plan, tensor fill, validity masks.\n\nComplexity: L | Hard deps: WP-1, WP-3 | Soft deps: WP-5 (use MockSnapshot initially) | Milestone: M1\nHLD refs: R-OBS-1 through R-OBS-9, §16.1\nDesign refs: IMPLEMENTATION-PLAN.md §6.9 (ObsSpec, ObsEntry, ObsTransform, ObsDtype, ObsPlanResult, ObsMetadata, execute/execute_batch signatures), §6.6 (RegionSpec/RegionPlan)\nNote: murk-obs does NOT depend on murk-arena (Decision N). Can start parallel with WP-2 and WP-5.\n\nSub-packages:\n- WP-7a (murk-ylw.8.1): ObsSpec + ObsPlan Simple Class (M) — types from §6.9, flat gather, validity masks\n- WP-7b (murk-ylw.8.2): Generation binding + PLAN_INVALIDATED detection (S) — depends on WP-7a\n\nAcceptance: Flat tensor fill correct for Square4. PLAN_INVALIDATED on generation mismatch. valid_ratio = 1.0 for square grids. All 6 metadata fields populated.","status":"closed","priority":1,"issue_type":"task","owner":"544926+tachyon-beep@users.noreply.github.com","created_at":"2026-02-10T02:02:37.929581467+11:00","created_by":"John Morrissey","updated_at":"2026-02-11T19:51:51.50567607+11:00","closed_at":"2026-02-11T19:51:51.50567607+11:00","close_reason":"Both children complete: WP-7a (ObsSpec+ObsPlan) and WP-7b (generation binding+cache).","labels":["obs","wp"],"dependencies":[{"issue_id":"murk-ylw.8","depends_on_id":"murk-ylw","type":"parent-child","created_at":"2026-02-10T02:02:37.930338745+11:00","created_by":"John Morrissey"},{"issue_id":"murk-ylw.8","depends_on_id":"murk-ylw.2","type":"blocks","created_at":"2026-02-10T05:41:18.846356371+11:00","created_by":"John Morrissey"},{"issue_id":"murk-ylw.8","depends_on_id":"murk-ylw.4","type":"blocks","created_at":"2026-02-10T05:41:18.874059473+11:00","created_by":"John Morrissey"}]}
{"id":"murk-ylw.8.1","title":"WP-7a: ObsSpec + ObsPlan Simple Class","description":"ObsSpec + ObsPlan compilation + Simple plan class (flat gather).\n\nComplexity: M | Milestone: M1\nHLD refs: R-OBS-1 through R-OBS-6, §16.1\nDesign refs: IMPLEMENTATION-PLAN.md §6.9 (ObsSpec/ObsEntry/ObsTransform/ObsMetadata types), §6.6 (RegionSpec/RegionPlan)\nNote: murk-obs does NOT depend on murk-arena (Decision N). Uses MockSnapshot for testing.\n\nDeliverables:\n- ObsSpec struct with Vec\u003cObsEntry\u003e (§6.9)\n- ObsEntry: field_id, region (RegionSpec), transform (ObsTransform), dtype (ObsDtype)\n- ObsTransform: Identity and Normalize for v1 Simple plan class\n- ObsPlan::compile() producing ObsPlanResult with output_shape, valid_ratio, plan, metadata\n- Simple plan class: branch-free gather into caller-allocated buffer\n- Validity mask as separate \u0026mut [u8] buffer\n- valid_ratio computation and threshold checks (\u003c 0.5 warn, \u003c 0.35 error)\n- Plan caching by (ObsSpec, WorldGenerationId)\n- All 6 ObsMetadata fields: tick_id, age_ticks, coverage, world_generation_id, parameter_version\n- execute() and execute_batch() interfaces (§6.9)\n\nAcceptance:\n- Flat tensor fill correct for Square4\n- valid_ratio = 1.0 for square grids\n- Normalize transform produces [0,1] range output\n- All metadata fields populated from MockSnapshot\n- execute_batch with N=1 matches execute() output","status":"closed","priority":1,"issue_type":"task","owner":"544926+tachyon-beep@users.noreply.github.com","created_at":"2026-02-10T06:20:33.427006254+11:00","created_by":"John Morrissey","updated_at":"2026-02-11T17:40:21.677569435+11:00","closed_at":"2026-02-11T17:40:21.677569435+11:00","close_reason":"ObsSpec, ObsEntry, ObsTransform, ObsDtype, ObsMetadata, ObsPlan compile/execute/execute_batch implemented with 21 tests. Pre-computed gather indices via canonical ordering. Generation binding, validity masking, Normalize transform, coverage checks all working.","dependencies":[{"issue_id":"murk-ylw.8.1","depends_on_id":"murk-ylw.8","type":"parent-child","created_at":"2026-02-10T06:20:33.427748584+11:00","created_by":"John Morrissey"}]}
{"id":"murk-ylw.8.2","title":"WP-7b: Generation Binding + PLAN_INVALIDATED","description":"Generation binding and PLAN_INVALIDATED detection.\n\nComplexity: S | Milestone: M1 | Depends on: WP-7a (ObsSpec + ObsPlan)\nHLD refs: R-OBS-7, R-OBS-8\nDesign refs: IMPLEMENTATION-PLAN.md §6.9 (ObsMetadata.world_generation_id)\n\nDeliverables:\n- ObsPlan tracks WorldGenerationId at compile time\n- On execute(), compare plan's generation_id vs snapshot's generation_id\n- Mismatch → return ObsError::PlanInvalidated (not silent stale data)\n- Plan cache invalidation on generation change\n- ObsMetadata.age_ticks computation (snapshot tick vs current engine tick)\n\nAcceptance:\n- PLAN_INVALIDATED returned on generation mismatch\n- Correct age_ticks for Lockstep (always 0) and RealtimeAsync (may be \u003e 0)\n- Cache miss on generation change triggers recompilation","status":"closed","priority":1,"issue_type":"task","owner":"544926+tachyon-beep@users.noreply.github.com","created_at":"2026-02-10T06:20:34.221035265+11:00","created_by":"John Morrissey","updated_at":"2026-02-11T19:51:46.415526335+11:00","closed_at":"2026-02-11T19:51:46.415526335+11:00","close_reason":"ObsPlanCache with generation-based invalidation, age_ticks computation via engine_tick parameter, 11 new tests (cache lifecycle, age_ticks, get_or_compile).","dependencies":[{"issue_id":"murk-ylw.8.2","depends_on_id":"murk-ylw.8","type":"parent-child","created_at":"2026-02-10T06:20:34.221814574+11:00","created_by":"John Morrissey"},{"issue_id":"murk-ylw.8.2","depends_on_id":"murk-ylw.8.1","type":"blocks","created_at":"2026-02-10T06:20:40.731700411+11:00","created_by":"John Morrissey"}]}
{"id":"murk-ylw.9","title":"WP-8: C ABI (FFI)","description":"Handle-based C ABI with full error model, lifecycle safety.\n\nComplexity: L | Hard deps: WP-6, WP-7 | Milestone: M1\nHLD refs: R-FFI-1 through R-FFI-5, §9.6, §18\nDesign refs: IMPLEMENTATION-PLAN.md §6.4 (C ABI signatures + builder pattern), §6.8 (WorldConfig builder pattern via FFI)\n\nDeliverables:\n- murk-ffi crate: opaque handles (slot-based with generation counter)\n- MurkConfig builder pattern: murk_config_create/add_field/set_space/set_dt/set_seed/destroy (§6.4)\n- create/destroy lifecycle (double-destroy safe, use-after-destroy → INVALID_HANDLE)\n- murk_abi_version(), murk_dt_range()\n- Caller-allocated buffers\n- murk_lockstep_step/reset/step_vec, murk_obsplan_compile/execute/destroy\n- murk_step_metrics() for telemetry (§6.11)\n- murk_consecutive_rollbacks() for tick_disabled query (Decision J)\n- All error codes from §9.7\n\nAcceptance: Handle lifecycle proptest. Miri clean. Error code coverage. FFI overhead per call benchmarked.","status":"closed","priority":1,"issue_type":"task","owner":"544926+tachyon-beep@users.noreply.github.com","created_at":"2026-02-10T02:02:42.620942865+11:00","created_by":"John Morrissey","updated_at":"2026-02-13T12:45:48.431761474+11:00","closed_at":"2026-02-13T12:45:48.431761474+11:00","close_reason":"WP-8 C ABI complete: 10 modules, 28 exported symbols, 46 tests, clippy clean","labels":["ffi","wp"],"dependencies":[{"issue_id":"murk-ylw.9","depends_on_id":"murk-ylw","type":"parent-child","created_at":"2026-02-10T02:02:42.62175766+11:00","created_by":"John Morrissey"},{"issue_id":"murk-ylw.9","depends_on_id":"murk-ylw.7","type":"blocks","created_at":"2026-02-10T05:41:18.671171224+11:00","created_by":"John Morrissey"},{"issue_id":"murk-ylw.9","depends_on_id":"murk-ylw.8","type":"blocks","created_at":"2026-02-10T05:41:18.700071206+11:00","created_by":"John Morrissey"}]}
